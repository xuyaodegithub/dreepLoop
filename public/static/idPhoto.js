var idPhotolist=[
    {name:'一寸（25*35mm）',width:295,height:413,color:'#FF0000'},
    {name:'小一寸（22*32mm）',width:260,height:378,color:'#FF0000'},
    {name:'大一寸（33*48）',width:390,height:567,color:'#00BFF3'},
    {name:'二寸（35*49mm）',width:413,height:579,color:'#FF0000'},
    {name:'小二寸（35*45mm）',width:413,height:531,color:'#FF0000'},
    {name:'大二寸（35*53mm）',width:413,height:625.5,color:'#FF0000'},
    {name:'美国签证（51*51mm）',width:600,height:600,color:'#fff'},
    {name:'日本签证（45*45）',width:531,height:531,color:'#fff'},
    {name:'越南签证（40*60）',width:472,height:708,color:'#fff'},
    {name:'身份证(无回执)（26*32mm）',width:358,height:441,color:'#fff'},
    {name:'居住证（26*32mm）',width:358,height:441,color:'#fff'},
    {name:'江苏社保卡（30*40mm）',width:358,height:441,color:'#fff'},
    {name:'湖南社保卡（26*32mm）',width:358,height:441,color:'#fff'},
    {name:'导游证（23*33mm）',width:285,height:385,color:'#FF0000'},
    {name:'教师资格证（25*35mm）',width:295,height:413,color:'#fff'},
    {name:'驾驶证、驾照(小一寸,无回执)（22*32mm）',width:260,height:378,color:'#fff'},
    {name:'驾驶证、驾照(一寸,无回执)（25*35mm）',width:295,height:413,color:'#fff'},
    {name:'入学照（25*35mm）',width:295,height:413,color:'#FF0000'},
    {name:'简历照片(一寸)（25*35mm）',width:295,height:413,color:'#FF0000'},
    {name:'三寸（55*84mm）',width:649,height:991,color:'#FF0000'},
    {name:'四寸（76*102mm）',width:898,height:1205,color:'#FF0000'},
    {name:'五寸（89*127mm）',width:1050,height:1499,color:'#FF0000'},
    {name:'国考(二寸)（35*45mm）',width:413,height:531,color:'#FF0000'},
    {name:'国家司法考试（35*53mm）',width:413,height:626,color:'#FF0000'},
    {name:'医保证（30*40mm）',width:358,height:441,color:'#FF0000'},
    {name:'健康证(一寸)（25*35mm）',width:295,height:413,color:'#FF0000'},
    {name:'执法证（25*35mm）',width:295,height:413,color:'#00BFF3'},
    {name:'校园卡（20*27mm）',width:240,height:320,color:'#FF0000'},
    {name:'入台证(小二寸)（35*45mm）',width:413,height:531,color:'#fff'},
    {name:'二级建造师证（18*25mm）',width:215,height:300,color:'#FF0000'},
    {name:'职业兽医资格证（20*28mm）',width:230,height:334,color:'#FF0000'},
    {name:'公务员考试（35*45mm）',width:413,height:531,color:'#00BFF3'},
    {name:'电子护照人像照片（33*48mm）',width:390,height:567,color:'#fff'},
    {name:'海外申请护照在线预约照片（33*48mm）',width:390,height:567,color:'#fff'},
    {name:'会计从业资格证（25*35mm）',width:295,height:413,color:'#FF0000'},
    {name:'英语四六级考试（33*48mm）',width:144,height:192,color:'#00BFF3'},
    {name:'学位英语（33*48mm）',width:390,height:567,color:'#FF0000'},
    {name:'英语AB级考试（33*48mm）',width:390,height:567,color:'#FF0000'},
    {name:'普通话水平测试（33*48mm）',width:390,height:567,color:'#FF0000'},
    {name:'全国计算机考试（33*48mm）',width:390,height:567,color:'#FF0000'},
    {name:'职业药师资格考试（25*35mm）',width:295,height:413,color:'#FF0000'},
    {name:'职业药师资格考试（35*49mm）',width:413,height:579,color:'#FF0000'},
    {name:'职业医师资格报名',width:354,height:472,color:'#FF0000'},
    {name:'学籍照片',width:358,height:441,color:'#FF0000'},
    {name:'入学报名（25*35mm）',width:295,height:413,color:'#FF0000'},
    {name:'大学入学（35*45mm）',width:413,height:531,color:'#FF0000'},
    {name:'高考报名',width:420,height:560,color:'#FF0000'},
    {name:'世界通行签证（35*45mm）',width:413,height:531,color:'#fff'},
    {name:'港澳通行证（30*40mm）',width:354,height:472,color:'#00BFF3'},
    {name:'韩国签证（35*45mm）',width:413,height:531,color:'#fff'},
    {name:'泰国签证（35*45mm）',width:413,height:531,color:'#fff'},
    {name:'印度签证（51*51mm）',width:591,height:591,color:'#fff'},
    {name:'以色列签证（51*51mm）',width:591,height:591,color:'#FF0000'},
    {name:'签证采集（30*40mm）',width:354,height:472,color:'#fff'},
    {name:'马来西亚签证（35*45mm）',width:413,height:531,color:'#fff'},
    {name:'新西兰签证（76*102mm）',width:900,height:1200,color:'#00BFF3'},
    {name:'意大利签证（35*40mm）',width:413,height:472,color:'#fff'},
    {name:'阿根廷签证（40*40mm）',width:472,height:472,color:'#fff'},
    {name:'巴西、冰岛签证（40*50mm）',width:472,height:591,color:'#fff'},
    {name:'肯尼亚签证（50*50mm）',width:591,height:591,color:'#fff'},
    {name:'入金证（35*45mm）',width:413,height:531,color:'#FF0000'},
    {name:'成人自考（34*51mm）',width:400,height:600,color:'#00BFF3'},
    {name:'自考学位外语考试',width:390,height:567,color:'#FF0000'},
    {name:'事业单位招聘（10*13mm）',width:120,height:160,color:'#FF0000'},
    {name:'英语三级（33*48mm）',width:390,height:567,color:'#FF0000'},
    {name:'半身职业照',width:850,height:1200,color:'#FF0000'},
    {name:'高清证件照',width:1000,height:1400,color:'#FF0000'},
    {name:'成人高考报名（25*35mm）',width:295,height:413,color:'#FF0000'},
    {name:'计算机初级考试（33/48mm）',width:390,height:567,color:'#FF0000'},
    {name:'车载终端照片',width:96,height:128,color:'#fff'},
],openScroll=true;
function initList() {
    var oDiv = $( '.contents' );
    for(var i=6;i<idPhotolist.length;i++){
        var item = idPhotolist[i];
        let str = $(` <div class="cu">
                        <div class="its">
                            <div w="${item.width}" h="${item.height}" color="${item.color}" name="${item.name}">
                                <img src="http://deeplor.oss-cn-hangzhou.aliyuncs.com/upload/image/20200724/aa742c4ea6a045d79d3256e170c48118.png"
                                     alt="">
                            </div>
                        </div>
                        <p class="over">${item.name}</p>
                    </div> `);
        oDiv.append( str )
    }
}
function seach(e){
    var keynum = window.event ? e.keyCode : e.which,oDiv = $( '.two .content' ),keywords=e.target.value;
    if(keynum!==13)return;
    if(keywords){
        var newList=idPhotolist.filter(function(item){return item.name.includes(keywords)});
        oDiv.html('');
        if(newList.length<1){
            oDiv.append($('<p style="text-align: center;color: #333;line-height: 40px;font-size: 16px;margin-top: 20px">暂无数据</p>'))
        }else{
            for(var i=0;i<newList.length;i++){
                var item = newList[i];
                let str = $(` <div class="cu">
                        <div class="its">
                            <div w="${item.width}" h="${item.height}" color="${item.color}" name="${item.name}">
                                <img src="${mattingMsg.bgRemovedPreview}"
                                     alt="">
                            </div>
                        </div>
                        <p class="over">${item.name}</p>
                    </div> `);
                oDiv.append( str )
            }
        }
        initItems()
        clickDiv()
        $('.one').css('display','none')
        $('.two').css('display','block')
    }else{
        $('.one').css('display','block')
        $('.two').css('display','none')
    }

}
function inithisList(){//初始化历史记录/webMatting/mattingHistory
    var data={page,pageSize,mattingType:8},oDiv=$('.hisList')
    $.ajax( {
        url: baseUrl + '/webMatting/mattingHistory',
        type: 'get',
        dataType: 'json',
        headers: {token: token},
        data: data,
        success(res) {
            if (!res.code) {
                var resultList=Object.keys(res.data),resultObj=res.data;
                if(resultList.length<1 && page===1)$('.hisList h5').css('display','block')
                else if(resultList.length>0){
                    resultList.map(function(it){
                        var str=`  <div class="hisItems"><h3>${it}</h3><div class="flex a-i f-w">`;
                        resultObj[it].map(function(itson){
                            str+=` <div class="itmes" oriUrl="${itson.originalImage}" fileId="${itson.id}" onclick="showhisItem(this)"><img src="${itson.originalImage}" alt=""></div>`;
                        });
                        str+=`</div></div>`;
                        oDiv.append($(str));
                    })
                }
                if(resultList.length<20){
                    oDiv.append($('<p style="font-size: 12px;line-height: 36px;color: #9c9c9c;text-align: center;">已经到底啦！</p>'));
                    openScroll=false;
                }
            } else loading( res.msg )
        }
    } )
}
function scrollHis(e){
    if(!openScroll)return;
    var scrollTop = e.target.scrollTop,h=document.getElementsByClassName('hisList')[0].offsetHeight,sh=document.getElementsByClassName('hisList')[0].scrollHeight;
    if(scrollTop+h>sh-30){
        page+=1;
        inithisList()
    }
}
function showHisList(k){
    if(k) $('.hisList').css('display','block')
    else $('.hisList').css('display','none')
}
function showhisItem(t){
    var url=$(t).attr('oriUrl')
    var fileId=$(t).attr('fileId')
    console.log(url,fileId)
    dreepByurl(url,fileId)
}
